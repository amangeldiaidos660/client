(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{7445:function(e,t,l){Promise.resolve().then(l.bind(l,3180)),Promise.resolve().then(l.bind(l,1122)),Promise.resolve().then(l.bind(l,659)),Promise.resolve().then(l.bind(l,3798)),Promise.resolve().then(l.bind(l,2721)),Promise.resolve().then(l.t.bind(l,5212,23))},2721:function(e,t,l){"use strict";l.d(t,{default:function(){return o}});var a=l(7437),s=l(2265),i=l(2838),r=l(7138),n=l(9019),d=l(4839);function c(){let{openMenu:e}=(0,n.Z)();return(0,a.jsxs)("div",{className:(0,d.Z)("menu duration-300 flex flex-col max-w-[300px] w-full p-[15px] translate-x-[-100%] border-r-[1px] border-b-[1px] border-black bg-white absolute t-0 l-0",{"translate-x-[0px]":!0===e}),children:[(0,a.jsxs)("ul",{className:"menu__list flex flex-col gap-[20px]",children:[null===i.ab||void 0===i.ab?void 0:i.ab.map(e=>(0,a.jsx)(r.default,{href:"",className:"menu__list text-[#0d6efd] text-[16px]",children:e.title},e.id)),(0,a.jsx)("li",{})]}),(0,a.jsx)("span",{children:"Eшe +4"})]})}function o(){let{searchProduct:e,amountChose:t,setAmountsObj:l,selectedProducts:r,setSelectedProducts:d,totalAmountsObj:o,setTotalAmountsObj:u,delSelectedProducts:x,updateTotalAmountsObj:b,openPay:m,setError:f}=(0,n.Z)(),[p,h]=(0,s.useState)([]),[_,j]=(0,s.useState)({}),[v,Z]=(0,s.useState)({});(0,s.useEffect)(()=>{let l=i.RB.filter(l=>l["Наименование"].toLowerCase().trim().includes(e.toLowerCase().trim())&&l["Количество"]>0&&l["Количество"]>=t);h(e.length>0?l:[])},[e,t]);let N=e=>{let a=i.RB.filter(t=>t.id==e)[0];r.some(e=>e.id==a.id)?f(!0):(d(a),h(t=>t.filter(t=>t.id!=e)),j(e=>({...e,[a["Наименование"]]:t})),Z(e=>({...e,[a["Наименование"]]:a["Цена"]*t})),l({[a["Наименование"]]:t}),u({[a["Наименование"]]:a["Цена"]*t}))},g=e=>{let t=e.target.getAttribute("data-symbol"),a=e.target.closest("tr"),s=a.querySelector(".name").innerHTML.trim(),i=Number(a.querySelector(".price").getAttribute("data-price")),r=a.querySelector(".amount"),n=Number(r.value),d=v[s];"+"===t?(n+=1,d+=i):"-"===t&&(n-=1,d-=i),n>=1&&n<=Number(r.getAttribute("max"))&&(j(e=>({...e,[s]:n})),Z(e=>({...e,[s]:d})),l({[s]:n}),u({[s]:d}))},y=(e,t)=>{let l=r.filter(t=>t.id!=e),a=r.find(t=>t.id==e),s={};for(let e in o)e!=t&&(s[e]=o[e]);x(l),h(e=>[...e,a]),b(s)};return(0,a.jsxs)("div",{className:"table border border-black min-h-[90vh] relative overflow-hidden",children:[(0,a.jsx)(c,{}),m&&(0,a.jsx)("span",{className:"table__dark fixed top-0 left-0 bg-[#706e6e8f] h-[100vh] w-[100vw] z-[100]"}),p.length>0&&(0,a.jsxs)("table",{className:"table__table w-[100%] flex flex-col h-full",children:[(0,a.jsx)("thead",{className:"table__head w-[100%] bg-[#c5eeff]",children:(0,a.jsx)("tr",{className:"table__head-row grid grid-cols-4 justify-items-start",children:null===i.zF||void 0===i.zF?void 0:i.zF.map(e=>(0,a.jsx)("th",{className:"table__head-col text-[16px] font-bold p-[10px]",children:e.title},e.id))})}),(0,a.jsx)("tbody",{className:"table__body",children:p.map((e,t)=>(0,a.jsxs)("tr",{onClick:()=>N(e.id),className:"table__body-row grid grid-cols-4 border-b border-black cursor-pointer hover:bg-[#bfed6b]",children:[(0,a.jsx)("td",{className:"table__body-col p-[10px] flex items-center",children:e["Наименование"]}),(0,a.jsx)("td",{className:"table__body-col p-[10px] flex items-center",children:e["Штрихкод"]}),(0,a.jsxs)("td",{className:"table__body-col p-[10px] flex items-center",children:[e["Количество"]," шт"]}),(0,a.jsxs)("td",{className:"table__body-col p-[10px] flex items-center",children:[e["Цена"]," сум"]})]},t))})]}),r.length>0&&(0,a.jsxs)("table",{className:"foundTable w-[100%] flex flex-col h-full",children:[(0,a.jsx)("thead",{className:"foundTable__head w-[100%] bg-[#c5eeff]",children:(0,a.jsx)("tr",{className:"foundTable__head-row grid grid-cols-5 justify-items-start",children:null===i.lh||void 0===i.lh?void 0:i.lh.map(e=>(0,a.jsx)("th",{className:"foundTable__head-col text-[16px] font-bold p-[10px]",children:e.title},e.id))})}),(0,a.jsx)("tbody",{className:"foundTable__body",children:null==r?void 0:r.map(e=>(0,a.jsxs)("tr",{className:"foundTable__body-row grid grid-cols-5 border-b border-black cursor-pointer bg-[#bfed6b]",children:[(0,a.jsx)("td",{className:"foundTable__body-col name p-[10px] flex items-center",children:e["Наименование"]}),(0,a.jsx)("td",{className:"foundTable__body-col p-[10px] flex items-center",children:e["Штрихкод"]}),(0,a.jsx)("td",{className:"foundTable__body-col p-[10px] flex items-center",children:(0,a.jsxs)("div",{className:"foundTable__body-counter border border-black flex justify-between items-center gap-[5px] p-[5px]",children:[(0,a.jsx)("button",{onClick:e=>g(e),"data-symbol":"-",className:"foundTable__counter-minus border border-black w-[30px] h-[15px] flex items-center justify-center bg-[#f7b279]",children:"-"}),(0,a.jsx)("input",{min:1,max:e["Количество"],type:"number",className:"foundTable__counter-input amount max-w-[70px] w-full text-center",value:_[e["Наименование"]]||t,readOnly:!0}),(0,a.jsx)("button",{onClick:e=>g(e),"data-symbol":"+",className:"foundTable__counter-plus border border-black w-[30px] h-[15px] flex items-center justify-center bg-[#89e373]",children:"+"})]})}),(0,a.jsxs)("td",{className:"foundTable__body-col p-[10px] flex items-center price","data-price":e["Цена"],children:[e["Цена"],(0,a.jsx)("span",{children:"сум"})]}),(0,a.jsxs)("td",{className:"foundTable__body-col p-[10px] flex items-center relative",children:[v[e["Наименование"]],(0,a.jsx)("span",{children:"сум"}),(0,a.jsx)("button",{onClick:()=>y(e.id,e["Наименование"]),className:"foundTable__body-del p-[5px_10px] border border-black bg-[#d67878e9] cursor-pointer absolute top-[10px] right-[10px]",children:"X"})]})]},e.id))})]})]})}l(5212)},3180:function(e,t,l){"use strict";l.d(t,{default:function(){return c}});var a=l(7437),s=l(7138),i=l(2265),r=l(6920),n=l(5079),d=l(9019);function c(){let{setOpenMenu:e,openMenu:t,setSearchProduct:l,setAmountChose:c,error:o,setError:u}=(0,d.Z)(),[x,b]=(0,i.useState)(!1),[m,f]=(0,i.useState)("");(0,i.useEffect)(()=>{b(o);let e=setTimeout(()=>{u(!1),b(!1)},3e3);return()=>clearTimeout(e)},[o]);let p=e=>{l(e),f(e)},h=e=>{e.preventDefault(),console.log(123),f(""),l("")};return(0,a.jsx)("header",{className:"header",children:(0,a.jsxs)("nav",{className:"nav p-[20px] flex justify-between items-end",children:[(0,a.jsxs)("div",{className:"nav__menu flex gap-[10px] flex-col",children:[(0,a.jsx)(s.default,{href:"/cash-register/settings",className:"nav__setting p-[10px]",children:(0,a.jsx)(r.G,{icon:n.gr5,className:"nav__setting-icon w-[16px] h-[16px]"})}),(0,a.jsxs)(s.default,{onClick:()=>e(!t),href:"",className:"nav__menu-list flex gap-[10px] items-center",children:[(0,a.jsx)(r.G,{icon:n.xiG,className:"nav__menu-list-icon w-[15px] h-[18px]"}),(0,a.jsx)("span",{className:"text-[18px]",children:"Меню"})]})]}),x&&(0,a.jsx)("span",{className:"nav__clear error text-[14px] text-[#de4b22f5]",children:"Вы уже выбрали этот товар"}),(0,a.jsxs)("form",{action:"",className:"nav__form w-[40%] flex gap-[10px] items-center",children:[(0,a.jsx)("input",{onChange:e=>p(e.target.value),type:"text",value:m,placeholder:"Введите наименование или штрихкод товара",className:"nav__input border border-black p-[10px_20px] w-[70%]"}),(0,a.jsx)("button",{onClick:e=>h(e),children:(0,a.jsx)(r.G,{icon:n.g82,className:"text-[25px]"})}),(0,a.jsxs)("div",{className:"nav__number flex items-end gap-[5px]",children:[(0,a.jsx)("input",{onChange:e=>c(Number(e.target.value)),type:"number",defaultValue:"1",min:"1",max:"100",className:"nav__input-amount p-[10px_5px_10px_20px] border border-black max-w-[74px] w-full"}),(0,a.jsx)("span",{children:"шт"})]})]})]})})}l(5212)},1122:function(e,t,l){"use strict";l.d(t,{default:function(){return n}});var a=l(7437);l(2265);var s=l(2838),i=l(9019);let r=(e,t)=>{let l=0;for(let t in e)l+=e[t];return s.nV.map(e=>{let a=0;return"К оплате"==e.title?a=l:"Наименование"==e.title&&(a=t.length),{id:e.id,title:e.title,amount:a}})};function n(){let{totalAmountsObj:e,selectedProducts:t}=(0,i.Z)(),l=r(e,t);return(0,a.jsx)("div",{className:"border border-black p-[10px]",children:(0,a.jsx)("div",{className:"w-[60%] flex flex-col",children:null==l?void 0:l.map(e=>(0,a.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)("span",{children:e.amount})]},e.id))})})}},659:function(e,t,l){"use strict";l.d(t,{default:function(){return r}});var a=l(7437),s=l(9019),i=l(4839);function r(){let{remainder:e}=(0,s.Z)();return(0,a.jsxs)("div",{className:"kassaCalculate flex flex-col justify-center w-[90%] m-[0_auto]",children:[e<0&&(0,a.jsx)("h4",{className:"kassaCalculate__title",children:"Касса уходит в минус"}),0==e&&(0,a.jsx)("h4",{className:"kassaCalculate__title",children:"Остаток"}),e>0&&(0,a.jsx)("h4",{className:"kassaCalculate__title",children:"Сдача"}),(0,a.jsx)("h4",{className:"kassaCalculate__title"}),(0,a.jsx)("h4",{className:"kassaCalculate__title"}),(0,a.jsxs)("div",{className:"kassaCalculate__box flex items-center",children:[(0,a.jsx)("div",{className:(0,i.Z)("kassaCalculate__show text-[16px] p-[10px_15px] border border-[#c02d2dd7] w-[55%]",{"!border-[#c5c524b6]":e>0,"!border-[#30b900]":0==e}),children:e>0?"+ "+e:e}),(0,a.jsx)("button",{disabled:e<0,className:(0,i.Z)("kassaCalculate__btn p-[15px] bg-[#c02d2dd7] opacity-[0.5]",{"opacity-[1] !bg-[#c5c524b6]":e>0,"opacity-[1] !bg-[#30b900]":0==e}),children:"РАСЧИТАТЬ"})]}),(0,a.jsxs)("div",{className:"kassaCalculate__debt flex gap-[5px] text-[16px] font-medium",children:[(0,a.jsx)("input",{type:"checkbox"}),(0,a.jsx)("span",{children:"Записать платеж в долг"})]})]})}l(2265)},3798:function(e,t,l){"use strict";l.d(t,{default:function(){return u}});var a=l(7437),s=l(9019),i=l(2265),r=l(2838),n=l(6920),d=l(5079),c=l(4839);function o(e){let{open:t,setOpen:l,btnValue:s,clickedBtn:i}=e;return(0,a.jsxs)("div",{className:(0,c.Z)("payNumber hidden max-w-[255px] w-full border border-black absolute bg-white z-[100] right-[125%] top-[0]",{"!block":!0===t}),children:[(0,a.jsx)("span",{onClick:()=>l(!1),className:" flex justify-center items-center w-[25px] h-[25px] rounded-[50%] bg-[#ec522c] text-white absolute top-0 right-0 translate-y-[-50%] translate-x-[50%]",children:(0,a.jsx)(n.G,{icon:d.g82,className:"text-[20px]"})}),(0,a.jsx)("div",{className:"payNumber__items p-[30px_15px_15px] flex flex-wrap justify-between gap-[15px]",children:null===r.Ef||void 0===r.Ef?void 0:r.Ef.map((e,t)=>(0,a.jsx)("div",{onClick:()=>i(e.value),className:"payNumber__item w-[50px] cursor-pointer h-[45px] border border-black flex justify-center items-center",children:t<=r.Ef.length-2?e.value:(0,a.jsx)(n.G,{icon:d.bLj})},e.id))}),(0,a.jsx)("button",{className:"payNumber__btn p-[10px_15px] bg-[#b4ffd2] w-full",children:"ПРИМЕНИТЬ"})]})}function u(){let{setOpenPay:e,totalAmountsObj:t,setRemainder:l,selectedProducts:n}=(0,s.Z)(),[d,c]=(0,i.useState)(!1),[u,x]=(0,i.useState)(0),[b,m]=(0,i.useState)(""),f=(0,i.useRef)({}),[p,h]=(0,i.useState)(""),[_,j]=(0,i.useState)(""),[v,Z]=(0,i.useState)(""),[N,g]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=0;for(let l in t)e+=t[l];l(-e),g(-e)},[n,t]),(0,i.useEffect)(()=>{},[_,u]),(0,i.useEffect)(()=>{e(d)},[d]);let y=()=>{let e=0;for(let l in t)e+=t[l];let a=-e,s=0;Object.values(f.current).forEach(e=>{a+=Number(e.value)||0,s+=Number(e.value)||0,l(a),Z(s)}),g(a)},k=e=>{e.preventDefault(),Object.values(f.current).forEach(e=>{e.value=""}),Z(""),h("")},w=e=>{m(e),h(f.current[e].value||""),c(!0)},C=(e,t)=>{let l=e.target.value;j(l),h(l),y()},O=e=>{let t=0,l=e.target.getAttribute("for");Object.values(f.current).forEach(e=>{t+=Number(e.value)||0}),Object.values(f.current).forEach(e=>{e.value=""}),Object.values(f.current).forEach(e=>{e.getAttribute("id")===l&&(e.value=t)}),h(t)};return(0,a.jsxs)("form",{action:"",className:"kassa__methods flex flex-col gap-[25px] relative z-[999]",children:[(0,a.jsx)(o,{clickedBtn:e=>{if(b){if("<"===e){let e=p.slice(0,-1);h(e),f.current[b].value=e}else{let t=p+e;h(t),f.current[b].value=t}f.current[b].focus(),y()}},open:d,setOpen:c,btnValue:u,setBtnValue:x}),r.Af.map(e=>(0,a.jsxs)("div",{className:"kassa__methods-item",children:[(0,a.jsxs)("div",{className:"kassa__methods-top flex justify-between p-[10px] font-medium",style:{background:"".concat(e.color)},children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)("label",{onClick:e=>O(e),htmlFor:e.title,children:"Все"})]}),(0,a.jsx)("input",{onFocus:()=>w(e.title),onClick:()=>w(e.title),onChange:t=>C(t,e.title),ref:t=>f.current[e.title]=t,id:e.title,type:"number",className:"kassa__methods-input p-[10px] border border-black w-full",placeholder:"Сумма"})]},e.id)),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"mb-[10px]",children:["Ваша сумма: ",v]}),(0,a.jsx)("button",{onClick:e=>k(e),className:" transition-all duration-300 hover:bg-[#ee673efe] border border-black p-[5px_10px] ",children:"Очистить"})]})]})}},2838:function(e,t,l){"use strict";l.d(t,{Af:function(){return n},Ef:function(){return c},RB:function(){return u},ab:function(){return d},h3:function(){return o},lh:function(){return i},nV:function(){return r},zF:function(){return s}});var a=l(920);let s=[{id:(0,a.Z)(),title:"Наименование"},{id:(0,a.Z)(),title:"Штрихкод"},{id:(0,a.Z)(),title:"Количество"},{id:(0,a.Z)(),title:"Цена"}],i=[{id:(0,a.Z)(),title:"Наименование"},{id:(0,a.Z)(),title:"Штрихкод"},{id:(0,a.Z)(),title:"Количество"},{id:(0,a.Z)(),title:"Цена"},{id:(0,a.Z)(),title:"Сумма"}];(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)();let r=[{id:(0,a.Z)(),title:"Наименование",amount:0},{id:(0,a.Z)(),title:"Скидки",amount:0},{id:(0,a.Z)(),title:"Наценка",amount:0},{id:(0,a.Z)(),title:"К оплате",amount:0}],n=[{id:(0,a.Z)(),title:"Наличка",color:"#9d7333"},{id:(0,a.Z)(),title:"Перечисление",color:"#7bac66"},{id:(0,a.Z)(),title:"Электронные кошельки",color:"#6c85de"}];(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)(),(0,a.Z)();let d=[{id:(0,a.Z)(),title:"Выдача денег из кассы"},{id:(0,a.Z)(),title:"Развестной товар"},{id:(0,a.Z)(),title:"Возврат по чеку"},{id:(0,a.Z)(),title:"Сумма в кассе"},{id:(0,a.Z)(),title:"Онлфйн касса"},{id:(0,a.Z)(),title:"Открыть смену"},{id:(0,a.Z)(),title:"Товар без штрих кода"},{id:(0,a.Z)(),title:"Внессение денег в кассу"},{id:(0,a.Z)(),title:"Продажа за мену"},{id:(0,a.Z)(),title:"Открыть денеж. ящик"},{id:(0,a.Z)(),title:"Закрыть смену"},{id:(0,a.Z)(),title:"Промеж. итог (X-отчет)"}],c=[{id:(0,a.Z)(),value:"1"},{id:(0,a.Z)(),value:"2"},{id:(0,a.Z)(),value:"3"},{id:(0,a.Z)(),value:"4"},{id:(0,a.Z)(),value:"5"},{id:(0,a.Z)(),value:"6"},{id:(0,a.Z)(),value:"7"},{id:(0,a.Z)(),value:"8"},{id:(0,a.Z)(),value:"9"},{id:(0,a.Z)(),value:"0"},{id:(0,a.Z)(),value:"00"},{id:(0,a.Z)(),value:"000"},{id:(0,a.Z)(),value:","},{id:(0,a.Z)(),value:"<"}],o=[{id:(0,a.Z)(),title:"Левое меню"},{id:(0,a.Z)(),title:"Список товаров"},{id:(0,a.Z)(),title:"Поиск товара в ручном режиме"},{id:(0,a.Z)(),title:"Вид кассы"}],u=[{id:(0,a.Z)(),Наименование:"Молоко",Штрихкод:"1234567890123",Количество:10,Цена:60,Сумма:600},{id:(0,a.Z)(),Наименование:"Хлеб",Штрихкод:"1234567890124",Количество:15,Цена:40,Сумма:600},{id:(0,a.Z)(),Наименование:"Яблоки",Штрихкод:"1234567890125",Количество:5,Цена:100,Сумма:500},{id:(0,a.Z)(),Наименование:"Сахар",Штрихкод:"1234567890126",Количество:8,Цена:50,Сумма:400},{id:(0,a.Z)(),Наименование:"Соль",Штрихкод:"1234567890127",Количество:12,Цена:20,Сумма:240},{id:(0,a.Z)(),Наименование:"Макароны",Штрихкод:"1234567890128",Количество:6,Цена:80,Сумма:480},{id:(0,a.Z)(),Наименование:"Курица",Штрихкод:"1234567890129",Количество:4,Цена:200,Сумма:800},{id:(0,a.Z)(),Наименование:"Колбаса",Штрихкод:"1234567890130",Количество:3,Цена:300,Сумма:900},{id:(0,a.Z)(),Наименование:"Сыр",Штрихкод:"1234567890131",Количество:4,Цена:250,Сумма:1e3},{id:(0,a.Z)(),Наименование:"Йогурт",Штрихкод:"1234567890132",Количество:10,Цена:70,Сумма:700},{id:(0,a.Z)(),Наименование:"Картофель",Штрихкод:"1234567890133",Количество:20,Цена:30,Сумма:600},{id:(0,a.Z)(),Наименование:"Морковь",Штрихкод:"1234567890134",Количество:10,Цена:40,Сумма:400},{id:(0,a.Z)(),Наименование:"Вода минеральная",Штрихкод:"1234567890135",Количество:20,Цена:25,Сумма:500},{id:(0,a.Z)(),Наименование:"Чай",Штрихкод:"1234567890136",Количество:6,Цена:150,Сумма:900},{id:(0,a.Z)(),Наименование:"Кофе",Штрихкод:"1234567890137",Количество:5,Цена:200,Сумма:1e3},{id:(0,a.Z)(),Наименование:"Шоколад",Штрихкод:"1234567890138",Количество:10,Цена:90,Сумма:900},{id:(0,a.Z)(),Наименование:"Яйца",Штрихкод:"1234567890139",Количество:12,Цена:70,Сумма:840},{id:(0,a.Z)(),Наименование:"Сок",Штрихкод:"1234567890140",Количество:8,Цена:120,Сумма:960},{id:(0,a.Z)(),Наименование:"Мука",Штрихкод:"1234567890141",Количество:10,Цена:50,Сумма:500},{id:(0,a.Z)(),Наименование:"Рис",Штрихкод:"1234567890142",Количество:7,Цена:80,Сумма:560}]},9019:function(e,t,l){"use strict";var a=l(9099),s=l(9291);let i=(0,a.Ue)((0,s.mW)(e=>({openMenu:!1,searchProduct:"",amountChose:1,selectedProducts:[],amountsObj:{},totalAmountsObj:{},openPay:!1,remainder:0,error:!1,setError:t=>e({error:t}),setRemainder:t=>e({remainder:t}),setOpenPay:t=>e({openPay:t}),updateTotalAmountsObj:t=>e({totalAmountsObj:t}),setTotalAmountsObj:t=>e(e=>({totalAmountsObj:{...e.totalAmountsObj,...t}})),setAmountsObj:t=>e(e=>({amountsObj:{...e.amountsObj,...t}})),setSelectedProducts:t=>e(e=>({selectedProducts:[...e.selectedProducts,t]})),delSelectedProducts:t=>e({selectedProducts:t}),setAmountChose:t=>e({amountChose:t}),setSearchProduct:t=>e({searchProduct:t}),setOpenMenu:t=>e({openMenu:t})})));t.Z=i},5212:function(){}},function(e){e.O(0,[977,676,967,38,920,971,23,744],function(){return e(e.s=7445)}),_N_E=e.O()}]);